{% extends 'layout.html' %}

{% block title %}Promociones y Pizzas - Pizza Delivery{% endblock %}

{% block content %}
<!-- Incluir el navbar -->
{% include 'navbar.html' %}

<!-- Encabezado de la página -->
<section class="promotions-header">
    <h1>Promociones y Pizzas</h1>
    <div class="promotions-filters">
        <form method="GET" action="{{ url_for('views.index') }}">
            <button type="submit" name="category" value="" class="filter">VER TODO</button>
            <button type="submit" name="category" value="1" class="filter">1 PERSONA</button>
            <button type="submit" name="category" value="2" class="filter">2 PERSONAS</button>
            <button type="submit" name="category" value="3" class="filter">3-4 PERSONAS</button>
            <button type="submit" name="category" value="4" class="filter">5 A MÁS</button>
            <button type="submit" name="category" value="6" class="filter">CLÁSICAS</button>
            <button type="submit" name="category" value="5" class="filter">ESPECIALIDADES</button>
        </form>
    </div>
</section>

<!-- Sección de Promociones -->
<section class="promotions">
        {% for promotion in promociones %}
            <div class="promotion" data-category="{{ promotion.category_id }}">
                <img src="{{ url_for('static', filename=promotion.image) }}" alt="{{ promotion.title }}">
                <h3>{{ promotion.title }}</h3>
                <p>{{ promotion.description }}</p>
                <p class="price">S/ {{ promotion.price }}</p>
                
                <!-- Formulario para agregar promoción al carrito -->
                <form method="POST" action="{{ url_for('views.add_promotion_to_cart', promotion_id=promotion.id) }}">
                    <input type="number" name="quantity" value="1" min="1" class="quantity-input" required>
                    <button type="submit">COMPRAR</button>
                </form>
            </div>
        {% endfor %}
</section>

<!-- Sección de Pizzas -->
<section class="promotions">
        {% for pizza in pizzas %}
            <div class="promotion" data-category="{{ pizza.category_id }}">
                <img src="{{ url_for('static', filename=pizza.image) }}" alt="{{ pizza.name }}">
                <h3>{{ pizza.name }}</h3>
                <p>{{ pizza.description }}</p>
                <p class="price">S/ {{ pizza.price }}</p>
                
                <!-- Formulario para agregar pizza al carrito -->
                <form method="POST" action="{{ url_for('views.add_pizza_to_cart', pizza_id=pizza.id) }}">
                    <input type="number" name="quantity" value="1" min="1" class="quantity-input" required>
                    <button type="submit">COMPRAR</button>
                </form>
            </div>
        {% endfor %}
</section>

<!-- Footer -->
{% include 'footer.html' %}
{% endblock %}
