{% extends 'layout.html' %}

{% block title %}Promociones - Pizza Delivery{% endblock %}

{% block content %}
<!-- Incluir el navbar específico para promociones -->
{% include 'navbar.html' %}

<!-- Contenido principal de promociones -->
<section class="promotions-header">
    <h1>PROMOCIONES</h1>
    <div class="promotions-filters">
        <form method="GET" action="{{ url_for('views.promociones') }}">
            <button type="submit" name="category" value="" class="filter">VER TODO</button>
            <button type="submit" name="category" value="1" class="filter">1 PERSONA</button>
            <button type="submit" name="category" value="2" class="filter">2 PERSONAS</button>
            <button type="submit" name="category" value="3" class="filter">3-4 PERSONAS</button>
            <button type="submit" name="category" value="4" class="filter">5 A MÁS</button>
        </form>
    </div>
</section>

<!-- Mostrar promociones con sus categorías -->
<div class="promotions-container">
    {% for category, promotions in promotions_data.items() %}
        <h2>{{ category }}</h2>
        <div class="category-promotions">
            {% for promotion in promotions %}
                <div class="promotion" data-category="{{ promotion.category_relationship.name|lower }}">
                    <img src="{{ url_for('static', filename=promotion.image) }}" alt="{{ promotion.title }}">
                    <h3>{{ promotion.title }}</h3>
                    <p>{{ promotion.description }}</p>
                    <p class="price">${{ promotion.price }}</p>
                    <p class="category">Categoría: {{ promotion.category_relationship.name }}</p>
                    <form method="POST" action="{{ url_for('views.add_promotion_to_cart', promotion_id=promotion.id) }}">
                        <button type="submit">COMPRAR</button>
                    </form>
                </div>
            {% endfor %}
        </div>
    {% endfor %}
</div>

{% include 'footer.html' %}

{% endblock %}
