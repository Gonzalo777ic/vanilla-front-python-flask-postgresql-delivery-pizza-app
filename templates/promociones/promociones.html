{% extends 'layout.html' %}

{% block title %}Promociones - Pizza Delivery{% endblock %}

{% block content %}
<!-- Incluir el navbar específico para promociones -->
{% include 'navbar.html' %}

<!-- Contenido principal de promociones -->
<section class="promotions-header">
    <h1>PROMOCIONES</h1>
    <div class="promotions-filters">
        <form method="GET" action="{{ url_for('views.mostrar_promociones') }}">
            <button type="submit" name="category" value="" class="filter">VER TODO</button>
            <button type="submit" name="category" value="1" class="filter">1 PERSONA</button>
            <button type="submit" name="category" value="2" class="filter">2 PERSONAS</button>
            <button type="submit" name="category" value="3" class="filter">3-4 PERSONAS</button>
            <button type="submit" name="category" value="4" class="filter">5 A MÁS</button>
        </form>
    </div>
</section>

<!-- Mostrar promociones con sus categorías -->
<section class="promotions">
    {% for promotion in promociones %}
    <div class="promotion" data-category="{{ promotion.category_id }}">
        <img src="{{ url_for('static', filename=promotion.image) }}" alt="{{ promotion.title }}">
        <h2>{{ promotion.title }}</h2>
        <p>{{ promotion.description }}</p>
        <p class="price">S/ {{ promotion.price }}</p>

        <!-- Formulario para agregar promoción al carrito -->
        <form method="POST" action="{{ url_for('views.add_promotion_to_cart', promotion_id=promotion.id) }}">
            <input type="number" name="quantity" value="1" min="1" class="quantity-input" required>
            <button type="submit">COMPRAR</button>
        </form>
    </div>
    {% endfor %}
</section>

{% include 'footer.html' %}

{% endblock %}